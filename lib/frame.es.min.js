function e(e){return e instanceof Element?e:document.querySelector(e)}function t(e,n){if(e instanceof Node)n(e,null);else if(Array.isArray(e)){let o;for(let r=0;r<e.length;r++){const i=e[r];i instanceof Promise?(o?o.push(i):o=[i],i.then(o=>{t(o,(t,o)=>{e[r]=t;for(let t=r+1;t<e.length;t++)if(e[t]&&e[t]instanceof Node){o=e[t];break}n(t,o)})})):t(i,n)}if(o)return Promise.all(o)}else{if(e instanceof Promise)return e.then(e=>t(e,n));if(null==e);else{const o=typeof e;if("object"===o&&"Object"!==e.__proto__.constructor.name&&"el"in e&&e.el instanceof Node)n(e.el,null);else{if("function"===o)return t(e(),n);n(document.createTextNode(e),null)}}}}function n(t,o){const r=e(t);return n.clear(r),n.append(r,o)}function o(e){for(const t of Array.isArray(e)?e:[e])t.remove()}function r(e,t){r.table=t,r.root=e,r.set(document.location.pathname,{}),window.addEventListener("popstate",e=>{r.set(document.location.pathname,e.state)})}function i(e,t,o,i){const[c,l,s]=function(e){const[,t,,n,o]=/^(\w*)(#([\w-]+)|)((\.[\w-]+)*)$/g.exec(e||""),r=o.split(".").slice(1);return[t.length>0?t:"div",n&&n.length>0?n:null,r]}(t);let u,f;"object"==typeof o&&"Object"===o.__proto__.constructor.name?(u=o,f=i):f=o;const a=e?document.createElementNS(e,c):document.createElement(c);if(l&&(a.id=l),s.length>0&&(a.className=s.join(" ")),r.table&&"a"===c&&!("click"in u)&&"href"in u&&r.get(u.href)&&(u.click=e=>{r.go(u.href),e.preventDefault()}),u)for(const[e,t]of Object.entries(u))"function"==typeof t?(a.addEventListener(e,t),"click"!==e||"a"!==c||"href"in u||a.setAttribute("href","javascript:;")):a.setAttribute(e,t);return n(a,f),a}n.clear=function(t){const n=e(t);n.childNodes.length>0&&(n.innerHTML="")},n.prepend=function(t,o){const r=e(t);return n.before(r,o,r.firstChild)},n.append=function(t,o){const r=e(t);return n.after(r,o,null)},n.before=function(n,o,r){const i=e(n);return t(o,(e,t)=>{i.insertBefore(e,t||r)})},n.after=function(n,o,r){const i=e(n),c=r?r.nextSibling:null;return t(o,(e,t)=>{i.insertBefore(e,t||c)})},n.replace=function(e,o){if(e)return t(e,e=>{o.parentNode.replaceChild(e,o)});n.clear(o.parentNode)},r.table=null,r.set=function(e,t){r.get(e)&&n(r.root,r.table[e])},r.go=function(e,t){r.set(e,t),history.pushState(t,"Title",e)},r.get=function(e){if(e in r.table)return r.table[e]};const c={};function l(e,t){return fetch(e,t).then(e=>e.json())}function*s(e,t=null,n=1){if(2===arguments.length&&(n=t||1,t=e,e=0),e>t){const n=e;e=t,t=n}for(let o=e;o<=t;o+=n)yield o}function u(e,t=null,n=1){return new Array(...s(e,t,n))}l.get=function(e,t={}){const n=new URL(e,document.location.href),o=new URLSearchParams(e.search);for(const[e,n]of Object.entries(t))if(Array.isArray(n))for(const t of n)o.append(e,t);else o.append(e,n);return n.search=o.toString(),l(n.toString(),{method:"GET",credentials:"include"})},l.post=function(e,t){return l(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},credentials:"include"})},l.put=function(e,t){return l(e,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},credentials:"include"})},l.delete=function(e,t){return l(e,{method:"DELETE",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},credentials:"include"})},c.json=l;class f{constructor(e,t){this.el=e(),t.then(e=>n.replace(e,this.el))}}function a(e,t,n){return i(null,e,t,n)}function d(e,t,n){return i(null,e,t,n)}function p(e,t,n){return i("http://www.w3.org/2000/svg",e,t,n)}export default d;export{f as PromiseSwitcher,i as element,d as f,a as html,s as irange,n as mount,u as range,c as request,r as route,p as svg,o as unmount};
