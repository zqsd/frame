function e(n,t){if(n instanceof Node)t(n,null);else if(Array.isArray(n)){let r;for(let o=0;o<n.length;o++){const i=n[o];i instanceof Promise?(r?r.push(i):r=[i],i.then(r=>{e(r,(e,r)=>{n[o]=e;for(let e=o+1;e<n.length;e++)if(n[e]&&n[e]instanceof Node){r=n[e];break}t(e,r)})})):e(i,t)}if(r)return Promise.all(r)}else{if(n instanceof Promise)return n.then(n=>e(n,t));if(null==n);else{const r=typeof n;if("object"===r&&"Object"!==n.__proto__.constructor.name&&"el"in n&&n.el instanceof Node)t(n.el,null);else{if("function"===r)return e(n(),t);t(document.createTextNode(n),null)}}}}function n(e,t){return n.clear(e),n.append(e,t)}function t(e,t,r){const[o,i,c]=function(e){const[,n,,t,r]=/^(\w*)(#([\w-]+)|)((\.[\w-]+)*)$/g.exec(e||""),o=r.split(".").slice(1);return[n.length>0?n:"div",t&&t.length>0?t:null,o]}(e);let f,l;"object"==typeof t&&"Object"===t.__proto__.constructor.name?(f=t,l=r):l=t;const s=document.createElement(o);if(i&&(s.id=i),c.length>0&&(s.className=c.join(" ")),f)for(const[e,n]of Object.entries(f))"function"==typeof n?(s.addEventListener(e,n),"click"!==e||"a"!==o||"href"in f||s.setAttribute("href","javascript:;")):s.setAttribute(e,n);return n(s,l),s}n.clear=function(e){e.childNodes.length>0&&(e.innerHTML="")},n.prepend=function(e,t){return n.before(e,t,e.firstChild)},n.append=function(e,t){return n.after(e,t,null)},n.before=function(n,t,r){return e(t,(e,t)=>{n.insertBefore(e,t||r)})},n.after=function(n,t,r){const o=r?r.nextSibling:null;return e(t,(e,t)=>{n.insertBefore(e,t||o)})},n.replace=function(t,r,o){if(r)return e(r,e=>{t.replaceChild(e,o)});n.clear(t)};const r={};function o(e,n){return fetch(e,n).then(e=>e.json())}function*i(e,n=null,t=1){if(2===arguments.length&&(t=n||1,n=e,e=0),e>n){const t=e;e=n,n=t}for(let r=e;r<=n;r+=t)yield r}o.get=function(e,n){const t=new URL(e,document.location.href),r=new URLSearchParams(e.search);for(const[e,t]of Object.entries(n))if(Array.isArray(t))for(const n of t)r.append(e,n);else r.append(e,t);return t.search=r.toString(),o(t.toString(),{method:"GET",credentials:"same-origin"})},o.post=function(e,n){return o(e,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},credentials:"same-origin"})},r.json=o,t.mount=n,t.unmount=function(e){for(const n of Array.isArray(e)?e:[e])n.remove()},t.request=r,t.irange=i,t.range=function(e,n=null,t=1){return new Array(...i(e,n,t))};export default t;
